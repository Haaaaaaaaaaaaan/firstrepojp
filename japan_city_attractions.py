import streamlit as st
import folium
from streamlit_folium import st_folium

# 관광지 설명 및 툴팁 정보는 생략된 상태로 이미 city_attractions, city_coordinates 정의됨
# 일본 도시와 관광지 정보
city_attractions = {
    '도쿄': (
        '🇯🇵 **도쿄**\n'
        '일본의 수도인 도쿄는 현대성과 전통이 조화를 이루는 도시입니다.\n'
        '도쿄는 매력적인 문화, 풍부한 역사, 다양한 엔터테인먼트를 제공합니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **도쿄타워**: 1958년에 건설된 이 타워는 도쿄의 대표적인 랜드마크입니다. 방문객들은\n'
        '높은 전망대에서 도쿄 시내의 놀라운 전경을 감상할 수 있습니다. 더욱이, 야경이 아름다워\n'
        '야경 촬영 명소로 유명합니다.\n'
        '- **시부야 스크램블 교차로**: 일본에서 가장 바쁜 교차로 중 하나로, 매일 수많은 사람들이\n'
        '이곳을 지나갑니다. 다양한 상점과 레스토랑이 밀집해 있어 쇼핑과 외식을 즐기기에 좋습니다.\n'
        '- **아사쿠사와 센소지**: 도쿄에서 가장 오래된 사원인 센소지를 방문해 보세요. 전통과\n'
        '일본 문화를 느낄 수 있는 곳으로, 특히 신년이나 여름 축제에 많은 관광객이 찾는 명소입니다.\n'
        '- **빙고 나카미세 거리**: 센소지로 가는 길에 위치한 이 거리에서는 다양한 전통 간식과\n'
        '기념품을 구매할 수 있습니다. 일본식 과자인 "나쓰메"와 "타코야키"가 유명합니다.'
    ),
    '오사카': (
        '🍜 **오사카**\n'
        '음식의 도시 오사카는 맛있고 다양한 일본 요리로 유명합니다. 이 도시는\n'
        '경기, 쇼핑, 문화 체험이 가득한 활기찬 분위기를 자랑합니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **오사카 성**: 일본의 역사적인 성으로, 아름다운 정원과 함께 역사 박물관이 있습니다.\n'
        '성 주변의 공원은 벚꽃 시즌에 특히 아름답습니다. 성의 꼭대기에서 바라보는 경치는 일품입니다.\n'
        '- **도톤보리**: 활기찬 분위기의 거리로, 길게 늘어선 다양한 음식점이 있습니다. 오사카의 특산물인\n'
        '타코야키와 오카사카를 꼭 맛보세요. 화려한 광고판과 네온사인들로 가득 찬 이곳은 사진 찍기 좋은\n'
        '장소입니다.\n'
        '- **유니버설 스튜디오 재팬**: 인기 있는 영화들을 테마로 한 놀이공원으로, 가족 단위 관광객이\n'
        '많이 찾습니다. 다양한 놀이기구와 엔터테인먼트 쇼가 마련되어 있습니다.\n'
        '- **신세카이**: 일본의 전통적인 분위기를 남긴 지역으로, 다양한 전통 음식을 즐길 수 있습니다.\n'
        '특히 "쿠시카츠"라는 꼬치 튀김이 유명합니다.'
    ),
    '교토': (
        '⛩️ **교토**\n'
        '교토는 일본의 전통과 문화가 살아 숨쉬는 도시입니다. 많은 신사와 사원, 정원이\n'
        '있는 이곳은 일본의 아름다움을 체험할 수 있는 최상의 장소입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **킨카쿠지(금각사)**: 세계문화유산으로 등록된 이 불교 사원은 금으로 덮인 외관이 특징입니다.\n'
        '자연 경관과 조화를 이루며 독특한 아름다움을 제공합니다. 사원을 둘러싼 정원도 아름답습니다.\n'
        '- **아라시야마 대나무 숲**: 대나무가 우거진 숲 속에서 자연을 느끼고, 조용한 산책을 즐길 수 있는 곳입니다.\n'
        '특히 한여름에는 시원한 그늘이 되어 주며, 대나무 사이를 지나갈 때 느껴지는 차가운 바람이 인상적입니다.\n'
        '- **기온 거리**: 교토에서 가장 유명한 지역 중 하나로, 전통 가옥과 게이샤가 있는 거리입니다.\n'
        '일본 전통 음식을 맛보거나, 기온에서 느긋하게 산책하는 것도 좋습니다. 특별한 경험으로 기온의\n'
        '게이샤와 스미마이당 공연을 관람할 수 있습니다.\n'
        '- **후시미 이나리 신사**: 수천 개의 주홍색 도리이가 이어진 이 신사는 굉장한 상징성을 지니고\n'
        '있으며, 일본의 경치와 전통을 잘 보여줍니다. 산을 오르는 길에도 아름다운 풍경이 펼쳐집니다.'
    ),
    '히로시마': (
        '🌸 **히로시마**\n'
        '히로시마는 일본 역사에서 중요한 의미를 지닌 도시입니다.\n'
        '조금의 슬픔과 회복의 상징이기도 하며, 아름다운 자연도 만끽할 수 있습니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **히로시마 평화 기념 공원**: 원자폭탄 투하로 인해 피해를 입은 지역에 세워진 공원으로,\n'
        '평화의 메시지를 전달합니다. 기념관과 기념비가 있어 역사에 관한 중요한 이야기를 들여다볼 수\n'
        '있는 기회를 제공합니다.\n'
        '- **미야지마섬**: 이곳의 이와지마 신사는 바다에 떠 있는 도리이가 인상적입니다. 관광객들은\n'
        '도리이에서 사진 촬영을 하며, 신사의 경내를 탐방할 수 있습니다. 계절마다 피는 꽃도 아름답습니다.\n'
        '- **히로시마 성**: 역사적인 성으로, hina 마스크 전통과 주변 자연이 어우러져 있습니다.\n'
        '전통 건축물과 아름다운 정원에서 일본의 아름다움을 느낄 수 있습니다.\n'
        '- **오카노미야끼 거리**: 히로시마의 대표 음식 중 하나인 오카노미야끼를 맛볼 수 있는 거리로,\n'
        '다양한 가게들이 밀집해 있어 현지인과 관광객 모두에게 인기가 많습니다.'
    ),
    '삿포로': (
        '❄️ **삿포로**\n'
        '홋카이도의 중심 도시인 삿포로는 맥주와 눈으로 유명합니다. 이곳은 스키 리조트와\n'
        '자연 경관이 매력적인 곳입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **삿포로 맥주 박물관**: 일본 맥주의 역사를 배우고, 다양한 종류의 맥주를 시음할 수 있는\n'
        '장소입니다. 맥주 제조 과정에 대한 교육도 제공하여 흥미로운 경험이 될 것입니다.\n'
        '- **오도리 공원**: 삿포로 중심부에 위치한 이 공원은 사계절 내내 아름다운 풍경을 제공합니다.\n'
        '여름에는 꽃이 만발하고, 겨울에는 눈 조각 축제가 열리며, 많은 사람들이 방문합니다.\n'
        '- **삿포로 눈 축제**: 매년 겨울에 개최되는 이 축제는 눈과 얼음 조각들이 전시되며,\n'
        '대규모 눈 조각이 인상적입니다. 축제 기간에는 많은 관광객이 몰려와 겨울의 매력을 느낍니다.\n'
        '- **모에레누마 공원**: 세계적인 조각가인 이사무 노구치의 설계로 만들어진 현대적인 공원으로,\n'
        '예술과 자연이 만나는 공간에서 산책을 즐길 수 있습니다.'
    ),
    # 추가된 20개 도시
    '후쿠오카': (
        '🍜 **후쿠오카**\n'
        '후쿠오카는 Kyushu 지역의 중심 도시로, 맛있는 음식과 아름다운 자연으로 유명합니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **캐널 시티 하카타**: 쇼핑과 레스토랑, 영화를 동시에 즐길 수 있는 복합 공간입니다.\n'
        '- **탑세대 절**: 후쿠오카의 유명한 사원으로, 아름다운 정원과 함께 일본의 전통을 느낄 수 있습니다.\n'
        '- **모모치 해변**: 고요한 바다와 함께 여유로운 시간을 보낼 수 있는 장소입니다.\n'
    ),
    '나고야': (
        '🏯 **나고야**\n'
        '나고야는 일본 중부에 위치한 대도시로, 산업과 문화의 중심지입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **나고야 성**: 역사적인 성으로, 창문에서 시내를 내려다볼 수 있습니다.\n'
        '- **토요타 산업 기술 기념관**: 세계적인 자동차 회사인 토요타의 역사와 발전 과정을 배울 수 있는 박물관입니다.\n'
        '- **오스유락기념관**: 현대 미술과 문화 전시물을 다루는 아름다운 박물관입니다.\n'
    ),
    '하코다테': (
        '🌄 **하코다테**\n'
        '홋카이도 남부에 위치한 하코다테는 아름다운 경치를 자랑하는 항구 도시입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **하코다테 산**: 케이블카를 타고 올라가면 멋진 시내 전망을 감상할 수 있습니다.\n'
        '- **모토마치 지역**: 화려한 역사적 건물과 다양한 음식점들이 있는 지역입니다.\n'
        '- **하코다테 아침 시장**: 신선한 해산물을 맛볼 수 있는 곳으로, 관광객들 사이에서 유명합니다.\n'
    ),
    '카나자와': (
        '🌸 **카나자와**\n'
        '카나자와는 일본의 전통과 예술이 잘 보존된 도시입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **다이조지**: 아름다운 세 정원으로 유명한 곳으로, 사계절 내내 다양한 경치를 제공합니다.\n'
        '- **21세기 미술관**: 현대 미술 작품들이 전시되어 있어 예술 감상에 특히 좋습니다.\n'
        '- **카나자와 성**: 역사적인 성과 일본 원형 정원도 함께 둘러볼 수 있습니다.\n'
    ),
    '오카야마': (
        '🌳 **오카야마**\n'
        '오카야마는 아름다운 성과 정원이 유명한 도시입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **오카야마 성**: 이 성은 "검은 성"이라고도 불리며 역사적인 아름다움을 보여줍니다.\n'
        '- **코이시카케 정원**: 일본 전통 정원으로, 아름다운 경치와 편안한 산책로가 있습니다.\n'
        '- **후루사토 정원**: 전통 일본 정원 특유의 조화로운 풍경을 체험할 수 있는 곳입니다.\n'
    ),
    '센다이': (
        '🌲 **센다이**\n'
        '미야기 현의 중심 도시인 센다이는 자연과 현대가 공존하는 곳입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **센다이 성**: 멋진 전망과 역사를 가진 성으로, 주변 산책하기 좋습니다.\n'
        '- **마나자키 신사**: 아름다운 신사로, 문화재로 지정된 많은 유산이 있습니다.\n'
        '- **자연 관찰 공원**: 아늑한 자연 속에서 가족들과 함께 즐기기 좋은 장소입니다.\n'
    ),
    '도쿠시마': (
        '🌊 **도쿠시마**\n'
        '도쿠시마는 전통과 자연이 아름답게 어우러진 도시입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **마쓰시마의 비경**: 바다와 절벽의 아름다운 경관이 인상적입니다.\n'
        '- **아야메 공원**: 신선한 공기를 마시며 산책할 수 있는 넓은 공원입니다.\n'
    ),
    '고베': (
        '🍷 **고베**\n'
        '고베는 일본에서 유명한 항구 도시로, 아름다운 경치와 맛있는 음식으로 유명합니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **고베 하버랜드**: 멋진 항구 전경과 함께 다양한 상점과 레스토랑이 있습니다.\n'
        '- **고베 비프**: 고베의 유명한 특산물인 비프를 맛볼 수 있는 레스토랑들이 많습니다.\n'
        '- **포트 타워**: 고베 항을 한눈에 볼 수 있는 전망대입니다.\n'
    ),
    '미야자키': (
        '☀️ **미야자키**\n'
        '미야자키는 해변과 열대 기후로 유명한 곳이고, 온천도 인기입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **고로야마**: 아름다운 자연 경관을 가진 곳으로, 하이킹과 산책을 즐길 수 있습니다.\n'
        '- **미야자키 신사**: 역사가 깊은 신사로, 일본의 전통적인 매력을 느낄 수 있습니다.\n'
    ),
    '나가사키': (
        '🌄 **나가사키**\n'
        '나가사키는 아름다운 항구 도시로, 역사적 배경이 깊은 도시입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **나가사키 평화 공원**: 역사적인 배경을 가지고 있는 공원으로, 평화를 기리는 공간입니다.\n'
        '- **고료마에 교회**: 일본에서 가장 오래된 교회 중 하나로, 독특한 건축양식으로 유명합니다.\n'
    ),
    '시오노미사키': (
        '🌅 **시오노미사키**\n'
        '시오노미사키는 아름다운 해안과 등대로 유명한 곳입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **시오노미사키 등대**: 해안가에 위치해 있으며 멋진 일출을 감상할 수 있는 장소입니다.\n'
        '- **시오노미사키 해변**: 여름철에 최고의 피서지로 알려져 있습니다.\n'
    ),
    '니가타': (
        '🌾 **니가타**\n'
        '니가타는 일본의 쌀 생산지로, 아름다운 자연과 풍경이 인상적입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **니가타 성**: 성과 주변 공원이 아름답게 조화를 이루고 있습니다.\n'
        '- **사도섬**: 전통적인 민속마을과 자연 경관을 체험할 수 있는 곳입니다.\n'
    ),
    '구마모토': (
        '🏰 **구마모토**\n'
        '구마모토는 유명한 구마모토 성과 함께 놀이공원으로도 알려진 도시입니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **구마모토 성**: 일본의 전통적인 성으로, 아름다운 정원이 함께 있습니다.\n'
        '- **센다이 강**: 강가 산책 및 자연 경관 감상이 가능한 곳입니다.\n'
    ),
    '이바라키': (
        '🌸 **이바라키**\n'
        '이바라키는 일본의 전통과 현대가 공존하는 도시입니다.\n'
        '여기서 가 볼 만한 관광지는:\n'
        '- **수족관**: 다양한 해양 생물을 만나보실 수 있는 곳입니다.\n'
        '- **박물관**: 지역의 문화를 전시하고 있는 박물관입니다.\n'
    ),
    '오키나와': (
        '🏖️ **오키나와**\n'
        '오키나와는 일본에서 가장 남쪽에 위치한 영화 같은 섬으로, 화려한 바다와 문화가 유명합니다.\n'
        '여기서 가볼 만한 관광지는:\n'
        '- **오키나와 아쿠아리움**: 다양한 해양 생물들을 만날 수 있는 유명한 수족관입니다.\n'
        '- **슈리성**: 세계유산으로 등록된 역사적인 성입니다.\n'
        '- **차탄 비치**: 하얀 모래와 맑은 바닷물로 유명한 해변입니다.\n'
    ),
}

# 도시 위치 데이터 (위도, 경도)
city_coordinates = {
    '도쿄': (35.682839, 139.759455),
    '오사카': (34.686315, 135.519585),
    '교토': (35.011636, 135.768029),
    '히로시마': (34.385202, 132.455292),
    '삿포로': (43.061368, 141.354376),
    '후쿠오카': (33.590355, 130.401716),
    '나고야': (35.181446, 136.906398),
    '하코다테': (41.768896, 140.735012),
    '카나자와': (36.561643, 136.64863),
    '오카야마': (34.661471, 133.935),  # 수정된 부분: 세미콜론을 콤마로 변경
    '센다이': (38.268839, 140.869356),
    '도쿠시마': (34.065976, 134.559843),
    '고베': (34.690083, 135.195511),
    '미야자키': (31.907107, 131.420113),
    '나가사키': (32.794044, 129.873706),
    '시오노미사키': (35.279489, 135.524419),
    '니가타': (37.910648, 139.036203),
    '구마모토': (32.798446, 130.701167),
    '이바라키': (36.341818, 140.446078),
    '오키나와': (26.512890, 127.999773),
}

# 툴팁 정보 (도시별 간단한 팁 + 이모지 포함)
city_tooltips = {
    '도쿄': "🎁 기념품 핫플! 나카미세 거리에서 잊지 말고 쇼핑하세요!",
    '오사카': "🍢 타코야키 맛집 천국! 도톤보리에서 먹방 투어 추천!",
    '교토': "⛩️ 일본 전통 감성 100%! 기온 거리 산책은 꼭 해보세요~",
    '히로시마': "🕊️ 평화의 메시지를 느낄 수 있는 도시, 공원 산책 강추!",
    '삿포로': "❄️ 겨울왕국 같은 눈 축제! 오도리 공원은 포토 스팟!",
    '후쿠오카': "🍜 하카타 라멘! 후쿠오카는 진짜 라멘 천국이에요!",
    '나고야': "🏯 성덕이라면 나고야성은 필수 방문지예요!",
    '하코다테': "🌅 야경 맛집! 하코다테산 전망은 꼭 봐야 해요!",
    '카나자와': "🎨 예술과 전통이 살아있는 도시! 21세기 미술관 추천!",
    '오카야마': "🌸 정원 덕후라면 여긴 천국! 코이시카케 정원 강추!",
    '센다이': "🌲 초록초록한 자연 가득! 가족 나들이에 최고예요~",
    '도쿠시마': "🌊 자연 경관이 예쁜 힐링 도시! 조용히 쉬고 싶을 땐 여기!",
    '고베': "🥩 고베비프 안 먹으면 서운해요~ 항구 산책도 추천!",
    '미야자키': "🌴 열대기후와 해변🌞 여름휴가엔 미야자키~",
    '나가사키': "🎆 낭만항구! 히스토리와 야경 모두 잡자!",
    '시오노미사키': "🌅 일본 최남단의 일출 맛집! 등대 뷰는 환상적이에요!",
    '니가타': "🍚 일본 최고 쌀의 고장! 니가타 사케도 놓치지 마세요!",
    '구마모토': "🏯 구마모토성에서 시간여행을 떠나보세요!",
    '이바라키': "🧪 이바라키 수족관은 아이들과 함께하기 좋은 명소예요!",
    '오키나와': "🏖️ 바다, 산호, 슈리성! 남국의 낭만을 즐기세요~",
}

def main():
    st.title("🗾 일본 도시 관광지 지도 🧭")

    # 도시 선택 상자
    city = st.selectbox("🎌 가고 싶은 도시를 선택하세요:", list(city_attractions.keys()))

    # 선택된 도시 정보 표시
    st.markdown(f"## ✨ 당신이 선택한 도시: **{city}**")
    st.write(city_attractions[city])

    # 지도 생성 (일본 중심으로 확대)
    m = folium.Map(location=[36.2048, 138.2529], zoom_start=5)

    # 모든 도시 마커 추가
    for city_name, coord in city_coordinates.items():
        tooltip = city_tooltips.get(city_name, "🎒 즐거운 여행 되세요!")
        folium.Marker(
            location=coord,
            popup=folium.Popup(f"<b>{city_name}</b><br>{tooltip}", max_width=250),
            tooltip=tooltip,
            icon=folium.Icon(color='blue', icon='info-sign')
        ).add_to(m)

    # 지도 출력
    st_folium(m, width=700, height=500)

# 실행
if __name__ == "__main__":
    main()
