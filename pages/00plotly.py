import streamlit as st
import plotly.express as px
import pandas as pd
import folium
from streamlit_folium import st_folium

# 도시 기본 정보 (더 많은 도시 추가)
city_coordinates = {
    '도쿄': (35.682839, 139.759455),
    '오사카': (34.686315, 135.519585),
    '교토': (35.011665, 135.768326),
    '후쿠오카': (33.590355, 130.401716),
    '삿포로': (43.062096, 141.354376),
    '나라': (34.685085, 135.804993),
    '요코하마': (35.443707, 139.638031),
    '나가사키': (32.744839, 129.873756),
    '고베': (34.691802, 135.195713),
    '히로시마': (34.385203, 132.455293),
    '가나자와': (36.561370, 136.656720),
    '오키나와': (26.212401, 127.680932)
}

# 관광 팁
city_attractions = {
    '도쿄': "🎁 기념품 핫플! 나카미세 거리에서 쇼핑 꼭 해보세요! 시즌에 따라 계절 한정 디저트와 식품도 놓치지 마세요.",
    '오사카': "🍢 도톤보리에서 타코야키 먹방 투어 필수! 오사카는 '먹다 망하다'라는 말이 있을 정도로 먹거리 천국입니다.",
    '교토': "🍵 전통 기모노를 입고 청수사와 기요미즈데라를 방문하면 인생샷을 건질 수 있어요! 아라시야마 대나무 숲은 일출 직후에 방문하면 한적하게 즐길 수 있습니다.",
    '후쿠오카': "🍜 하카타 라멘과 명물 돈코츠 라멘을 꼭 드세요! 유후인과 벳부 온천은 당일치기로 방문 가능합니다.",
    '삿포로': "🍺 삿포로 맥주 박물관과 스스키노 맥주 거리는 필수 코스! 겨울에는 삿포로 눈축제를, 여름에는 라벤더 밭을 추천합니다.",
    '나라': "🦌 나라 공원의 사슴들과 함께하는 인증샷! 사슴 센베이(과자)를 구매해 먹이를 주면 절하는 사슴도 볼 수 있어요.",
    '요코하마': "🛳️ 미나토미라이 21 지구의 야경은 일본 제일! 컵라면 박물관에서는 나만의 컵라면을 만들어볼 수 있습니다.",
    '나가사키': "⛪ 글로버 가든과 데지마에서 일본 속 서양 문화를 체험하세요. 나가사키 짬뽕의 본고장에서 정통 맛을 느껴보세요.",
    '고베': "🥩 세계적으로 유명한 고베 소고기는 꼭 맛보세요! 고베 하버랜드에서 로맨틱한 야경도 감상하세요.",
    '히로시마': "☮️ 평화기념공원과 함께 히로시마 오코노미야키도 꼭 맛보세요. 미야지마(이츠쿠시마)는 일본 3대 절경 중 하나입니다.",
    '가나자와': "🏯 겐로쿠엔은 일본 3대 정원 중 하나로, 계절마다 다른 아름다움을 자랑합니다. 전통 금박 체험도 인기!",
    '오키나와': "🏖️ 에메랄드빛 바다와 산호초, 스노클링과 다이빙이 최고! 류큐 왕국의 역사와 독특한 오키나와 요리도 경험하세요."
}

# 각 도시별 여행 시즌 정보
city_best_season = {
    '도쿄': "🌸 봄(3-5월) 벚꽃 / 🍁 가을(10-11월) 단풍 / 연중 내내 즐길 수 있지만, 7-8월은 매우 덥고 습합니다.",
    '오사카': "🌸 봄(3-4월) 벚꽃 / 🍁 가을(11월) 단풍 / 1월과 8월은 기온 차가 커서 여행하기 불편할 수 있어요.",
    '교토': "🌸 봄(3-4월) 벚꽃 / 🍁 가을(11월) 단풍이 절정이지만, 관광객도 매우 많습니다. 6월 초는 비가 많이 내립니다.",
    '후쿠오카': "🌸 봄(3-4월) / 🍂 가을(10-11월) / 여름은 습하고 태풍 시즌일 수 있으니 주의하세요.",
    '삿포로': "❄️ 겨울(1-2월) 눈축제 / 🌷 여름(7-8월) 라벤더, 해바라기 / 봄과 가을은 짧지만 아름답습니다.",
    '나라': "🌸 봄(3-4월) 벚꽃 / 🍁 가을(11월) 단풍 / 여름은 사슴들이 더위를 피해 그늘에 많이 모입니다.",
    '요코하마': "🌸 봄(3-5월) / 🍁 가을(10-11월) / 크리스마스 시즌(12월)에는 일루미네이션이 아름답습니다.",
    '나가사키': "🌸 봄(3-4월) / 🌞 가을(10-11월) / 8월은 평화기념일 행사가 있습니다.",
    '고베': "🌸 봄(3-4월) / 🎆 겨울(12월) 루미나리에 축제 / 가을(10-11월)은 단풍이 아름답습니다.",
    '히로시마': "🌸 봄(3-4월) 벚꽃 / 🍁 가을(10-11월) 단풍 / 8월 6일은 평화기념식이 열립니다.",
    '가나자와': "❄️ 겨울(12-2월) 설경 / 🍁 가을(10-11월) 단풍 / 겨울에는 눈으로 덮인 겐로쿠엔이 특별 야간 개장합니다.",
    '오키나와': "🏄 봄(3-5월)과 가을(10-11월)이 베스트 시즌 / 여름은 해양 스포츠에 좋지만, 태풍 시즌일 수 있습니다."
}

# 현지 교통 팁
city_transportation = {
    '도쿄': "🚇 도쿄 메트로 24시간권/72시간권 추천! 스이카/파스모 IC카드는 필수! 야마노테선은 도쿄 주요 관광지를 순환합니다.",
    '오사카': "🎫 오사카 주유패스로 무제한 교통과 관광지 할인! 난바역에서 우메다역까지는 미도스지선이 편리합니다.",
    '교토': "🚌 시내 버스 1일권(500엔)이 경제적! 관광지가 넓게 분포되어 있어 자전거 렌탈도 인기있는 옵션입니다.",
    '후쿠오카': "🚇 지하철과 버스가 편리하며, 1일권이 있습니다. 텐진에서 하카타까지는 도보로도 이동 가능합니다.",
    '삿포로': "🚋 시내 관광은 트램(노면전차)이 편리하고 저렴합니다. 지하철 1일권도 추천! 겨울에는 미끄러지지 않게 조심하세요.",
    '나라': "🚌 나라 공원과 주요 사찰은 도보 거리에 있습니다. 버스 1일권으로 조금 더 먼 곳까지 갈 수 있어요.",
    '요코하마': "🚢 미나토미라이 지구는 시티루프 버스가 편리! 항만 지역은 크루즈 보트도 추천합니다.",
    '나가사키': "🚋 관광지 이동은 노면전차(트램)가 가장 편리합니다. 1일권을 구매하면 경제적입니다.",
    '고베': "🚇 시내는 지하철과 포트라이너가 편리합니다. 롯코산 방문 시에는 롯코케이블을 이용하세요.",
    '히로시마': "🚋 히로시마 시내는 노면전차(히로덴)가 편리하고 경제적입니다. 미야지마는 페리로 이동합니다.",
    '가나자와': "🚌 관광 루프버스 '조카마치 긴차'가 주요 관광지를 순환합니다. 1일권을 구매하면 편리합니다.",
    '오키나와': "🚗 대중교통이 불편하므로 렌터카가 필수! 유리교는 교통 정체가 심하니 이른 아침이나 늦은 저녁에 방문하세요."
}

# 각 도시의 한국인 인기 핫플레이스 (장소명, 위도, 경도, 설명)
hotspots = {
    '도쿄': [
        ("시부야 스크램블", 35.6595, 139.7005, "📸 세계에서 가장 번잡한 교차로! 인증샷 필수! 저녁 시간대 네온사인이 켜진 모습이 장관입니다."),
        ("하라주쿠", 35.6702, 139.7020, "🛍️ 유니크한 패션과 디저트의 천국! 다케시타도리는 10대들의 패션 명소, 오모테산도는 고급 브랜드 거리입니다."),
        ("도쿄타워", 35.6586, 139.7454, "🌃 도쿄의 상징! 야경 맛집이에요~ 전망대에서는 후지산도 볼 수 있습니다."),
        ("아사쿠사 센소지", 35.7148, 139.7967, "⛩️ 전통 사찰 + 기념품 거리. 나카미세 거리에서 일본 전통 과자와 기념품을 쇼핑하세요."),
        ("우에노 동물원", 35.7167, 139.7712, "🐼 팬더와 동물들 만나보세요! 가족 여행 강추! 주변 우에노 공원의 벚꽃도 유명합니다."),
        ("메이지 진구", 35.6763, 139.6993, "🌲 도시 한가운데 울창한 숲속 신사! 주말에는 전통 결혼식을 볼 수 있어요."),
        ("도쿄 디즈니랜드/디즈니씨", 35.6329, 139.8804, "🎢 일본에서만 경험할 수 있는 디즈니 매직! 디즈니씨는 성인도 즐길 수 있는 테마파크입니다."),
        ("아키하바라", 35.6983, 139.7731, "🎮 전자제품과 애니메이션의 성지! 가전제품 쇼핑과 메이드 카페 체험이 인기입니다."),
        ("팀랩 플래닛", 35.6243, 139.7786, "✨ 인스타그램 성지! 디지털 아트와 상호작용하는 환상적인 공간입니다."),
        ("신주쿠 교엔", 35.6851, 139.7100, "🌸 도심 속 거대한 일본식 정원! 벚꽃과 단풍 시즌에 특히 아름답습니다."),
    ],
    '오사카': [
        ("도톤보리", 34.6687, 135.5019, "🍜 오코노미야끼, 타코야키! 맛집 퍼레이드! 글리코 간판과 움직이는 대게 간판은 인증샷 명소입니다."),
        ("오사카 성", 34.6873, 135.5259, "🏯 벚꽃과 역사 탐방의 중심지! 천수각에서 오사카 시내를 한눈에 볼 수 있습니다."),
        ("신세카이", 34.6525, 135.5061, "🍢 쿠시카츠 맛집과 복고 분위기~ 츠텐카쿠 타워 주변의 레트로한 거리입니다."),
        ("유니버설 스튜디오", 34.6654, 135.4323, "🎢 해리포터와 스파이더맨을 만나요! 슈퍼 닌텐도 월드는 한국인 관광객에게 최고 인기입니다."),
        ("우메다 스카이 빌딩", 34.7055, 135.4899, "🌇 도심 전망 최고! 커플 인기 장소💑 '공중정원'에서 360도 파노라마 전망을 감상하세요."),
        ("구로몬 시장", 34.6683, 135.5062, "🦞 오사카의 부엌! 신선한 해산물과 길거리 음식의 천국입니다."),
        ("덴포잔 대관람차", 34.6547, 135.4308, "🎡 일본에서 가장 큰 대관람차! 오사카 베이 에리어의 환상적인 전망을 즐기세요."),
        ("아베노 하루카스", 34.6460, 135.5133, "🏙️ 일본에서 가장 높은 빌딩! 전망대에서 오사카 시내를 한눈에 감상하세요."),
        ("시텐노지 사원", 34.6514, 135.5162, "🛕 일본에서 가장 오래된 사원 중 하나! 역사적 가치가 높은 불교 성지입니다."),
        ("오사카 아쿠아리움", 34.6539, 135.4290, "🐠 가이유칸에서는 고래상어와 다양한 해양 생물을 만날 수 있습니다.")
    ],
    '교토': [
        ("기요미즈데라", 34.9949, 135.7850, "🏮 교토를 대표하는 사찰! 목조 데크에서 내려다보는 교토 시내 전망이 환상적입니다."),
        ("후시미 이나리", 34.9671, 135.7727, "⛩️ 수천 개의 붉은 도리이 게이트가 이어지는 신비로운 길! 인스타 인생샷 명소입니다."),
        ("아라시야마 대나무숲", 35.0169, 135.6712, "🎋 환상적인 대나무 터널! 이른 아침에 방문하면 한적하게 즐길 수 있습니다."),
        ("금각사", 35.0394, 135.7292, "🏯 금박으로 덮인 아름다운 사원! 호수에 비치는 모습이 환상적입니다."),
        ("은각사", 35.0266, 135.7982, "🏮 소박하지만 아름다운 젠 가든이 유명한 사찰입니다."),
        ("니조성", 35.0144, 135.7480, "🏯 에도 시대 쇼군의 거처! '울지기 마루'라는 특수한 바닥이 유명합니다."),
        ("기온 거리", 35.0036, 135.7756, "👘 게이샤와 마이코를 볼 수 있는 전통 거리! 저녁에 방문하면 운이 좋으면 만날 수 있습니다."),
        ("청수사", 34.9949, 135.7850, "🌸 기요미즈데라의 핵심 건물! '청수의 무대'에서 교토를 내려다보는 전망이 장관입니다."),
        ("니시키 시장", 35.0050, 135.7649, "🍱 교토의 부엌! 현지 식재료와 길거리 음식을 맛볼 수 있는 재래시장입니다."),
        ("료안지", 35.0345, 135.7184, "🪨 세계적으로 유명한 젠 정원! 15개의 돌이 배치된 명상용 정원이 특징입니다.")
    ],
    '후쿠오카': [
        ("캐널시티 하카타", 33.5901, 130.4134, "🛍️ 쇼핑과 엔터테인먼트의 중심지! 운하와 분수쇼가 특징인 대형 쇼핑몰입니다."),
        ("오호리 공원", 33.5835, 130.3799, "🌳 아름다운 호수 공원! 산책과 조깅 코스로 인기있으며 벚꽃 명소입니다."),
        ("후쿠오카 타워", 33.5937, 130.3513, "🗼 시내가 내려다보이는 전망대! 밤에는 LED 조명으로 빛나는 모습이 아름답습니다."),
        ("다자이후 텐만구", 33.5194, 130.5352, "📚 학문의 신을 모시는 신사! 시험 합격 기원으로 유명하며 매화꽃이 아름답습니다."),
        ("나카스 요세바", 33.5936, 130.4080, "🍜 라멘과 야타이(포장마차)의 천국! 하카타 특유의 밤문화를 경험해보세요."),
        ("마리노아 시티", 33.5959, 130.3269, "🛥️ 바다가 보이는 아울렛! 쇼핑과 함께 해변 산책로도 즐길 수 있습니다."),
        ("쿠시다 신사", 33.5921, 130.4110, "🏮 하카타 기온 야마카사 축제의 중심지! 7월에 방문하면 축제를 볼 수 있습니다."),
        ("베이사이드 플레이스", 33.6066, 130.4033, "🚢 하버 뷰가 아름다운 쇼핑몰! 야경이 특히 로맨틱합니다."),
        ("후쿠오카 성 터", 33.5847, 130.3808, "🏯 봄에는 벚꽃의 명소! 옛 성의 흔적과 함께 역사를 느낄 수 있는 공간입니다."),
        ("하코자키구 신사", 33.6153, 130.4221, "⛩️ 역사적인 신사! 바다가 내려다보이는 위치에 있으며 가을 축제가 유명합니다.")
    ],
    '삿포로': [
        ("오도리 공원", 43.0589, 141.3506, "🌷 여름 꽃과 겨울 눈축제로 유명한 공원! 도심 한가운데 길게 뻗은 녹지 공간입니다."),
        ("시계탑", 43.0628, 141.3542, "🕰️ 삿포로의 상징물! 일본에서 가장 오래된 시계탑 중 하나입니다."),
        ("삿포로 맥주 박물관", 43.0688, 141.3751, "🍺 홋카이도 맥주의 역사와 양조 과정을 배우고 맥주 시음도 가능합니다."),
        ("스스키노", 43.0550, 141.3545, "🍻 홋카이도 최대의 유흥가! 맛집과 나이트라이프를 즐길 수 있는 구역입니다."),
        ("삿포로 TV탑", 43.0611, 141.3564, "🗼 오도리 공원 한쪽에 위치한 전망대! 도시 전경을 감상할 수 있습니다."),
        ("모이와 산", 43.0305, 141.3267, "🌄 로프웨이로 오를 수 있는 전망 명소! 밤 전망이 특히 유명한 '백만 달러 나이트뷰'입니다."),
        ("삿포로 눈축제 사이트", 43.0589, 141.3506, "❄️ 매년 2월 개최되는 세계적인 축제! 대형 눈 조각상이 오도리 공원을 가득 채웁니다."),
        ("홋카이도 대학 캠퍼스", 43.0775, 141.3408, "🌲 아름다운 가로수길과 역사적 건물! 가을 단풍이 특히 아름답습니다."),
        ("니조 시장", 43.0553, 141.3567, "🦀 신선한 해산물과 과일이 가득한 시장! 아침 식사로 해산물 덮밥이 인기입니다."),
        ("마루야마 공원", 43.0511, 141.3151, "🌸 벚꽃 명소이자 홋카이도 신궁이 있는 공원! 도심에서 가까운 자연 휴양지입니다.")
    ],
    '나라': [
        ("나라 공원", 34.6851, 135.8398, "🦌 천 마리가 넘는 사슴들과 함께하는 공원! 사슴 센베이를 주면 절하는 사슴을 볼 수 있습니다."),
        ("토다이지 사원", 34.6890, 135.8395, "🗿 세계 최대 목조 건물과 대불상! 놓치면 후회할 세계문화유산입니다."),
        ("카스가 타이샤", 34.6810, 135.8497, "🏮 수많은 돌 및 청동 랜턴으로 유명한 신사! 2월과 8월에 열리는 랜턴 축제가 아름답습니다."),
        ("이스이엔 정원", 34.6882, 135.8328, "🍁 전통 일본 정원의 아름다움! 차 한 잔과 함께 일본 정원을 감상하세요."),
        ("나라마치", 34.6698, 135.8263, "🏠 에도 시대 상인의 집들이 보존된 거리! 골목길 산책과 전통 공예품점 방문이 인기입니다."),
        ("호류지 사원", 34.6157, 135.7363, "🕍 세계에서 가장 오래된 목조 건물! 나라에서 조금 떨어져 있지만 꼭 방문할 가치가 있습니다."),
        ("야쿠시지 사원", 34.6685, 135.7841, "⛩️ 일본 불교 건축의 보고! 동탑과 서탑이 유명한 절입니다."),
        ("니가츠도", 34.6893, 135.8417, "🧘 토다이지 경내에 있는 작은 사원! 매년 3월 열리는 '오미즈토리' 의식이 유명합니다."),
        ("사이다이지 사원", 34.6778, 135.8071, "🌷 아름다운 정원과 역사적인 불교 사원! 봄에는 모란 꽃이 아름답습니다."),
        ("헤이조 궁터", 34.6924, 135.7932, "🏛️ 고대 일본의 첫 수도 유적지! 복원된 궁궐과 유적지를 둘러볼 수 있습니다.")
    ],
    '요코하마': [
        ("미나토미라이 21", 35.4548, 139.6372, "🌃 미래지향적인 항만 지구! 코스모 시계 21(대관람차)과 랜드마크 타워가 유명합니다."),
        ("요코하마 차이나타운", 35.4430, 139.6464, "🏮 일본 최대의 차이나타운! 다양한 중국 요리와 상점을 즐길 수 있습니다."),
        ("야마시타 공원", 35.4466, 139.6494, "🚢 항구를 따라 펼쳐진 공원! 산책하기 좋으며 베이 브릿지 뷰가 아름답습니다."),
        ("컵누들 박물관", 35.4553, 139.6312, "🍜 나만의 컵라면을 만들어보는 체험! 인스턴트 라면의 역사를 배울 수 있습니다."),
        ("요코하마 랜드마크 타워", 35.4547, 139.6312, "🏙️ 일본에서 두 번째로 높은 빌딩! 전망대에서 후지산과 도쿄까지 보이는 환상적인 전망을 감상하세요."),
        ("산케이엔 정원", 35.4157, 139.6618, "🎋 전통 일본식 정원! 역사적인 건물들이 모여 있고 계절마다 다른 풍경을 즐길 수 있습니다."),
        ("코스모월드", 35.4553, 139.6382, "🎡 도심 속 놀이공원! 코스모 시계 21은 세계 최대급 시계가 달린 대관람차입니다."),
        ("요코하마 항 박물관", 35.4491, 139.6452, "⚓ 요코하마 항의 역사를 배울 수 있는 박물관! 입항하는 배를 볼 수 있는 전망대도 있습니다."),
        ("조요코 방파제", 35.4515, 139.6480, "🌊 바다 위를 걷는 듯한 경험! 요코하마 베이의 파노라마 뷰를 감상할 수 있습니다."),
        ("아카렌가 창고", 35.4528, 139.6425, "🏭 빨간 벽돌 창고를 개조한 쇼핑몰! 특색있는 상점과 레스토랑이 모여 있습니다.")
    ],
    '나가사키': [
        ("글로버 가든", 32.7338, 129.8684, "🏡 서양식 정원과 역사적 건물! 나가사키의 이국적인 분위기를 대표하는 장소입니다."),
        ("평화공원", 32.7730, 129.8634, "☮️ 원폭 투하 지점 북쪽에 위치한 공원! 평화를 기원하는 다양한 조형물이 있습니다."),
        ("오우라 성당", 32.7358, 129.8698, "⛪ 일본 최초의 고딕 양식 성당! 국보로 지정된 아름다운 건축물입니다."),
        ("데지마", 32.7447, 129.8748, "🏝️ 에도 시대 유일한 서양과의 교역 창구! 복원된 역사적인 인공섬입니다."),
        ("메구미마치", 32.7424, 129.8723, "🏮 차이나타운! 나가사키 특유의 중국 영향을 느낄 수 있는 거리입니다."),
        ("나가사키 원폭 자료관", 32.7730, 129.8636, "🕊️ 원폭의 참상과 평화의 중요성을 전하는 박물관! 깊은 감동을 주는 전시물이 있습니다."),
        ("이나사야마", 32.7513, 129.8665, "🌄 나가사키 1000만 달러짜리 야경! 로프웨이로 올라갈 수 있는 전망대입니다."),
        ("시마바라성", 32.7911, 130.3709, "🏯 에도 시대의 성! 기독교 탄압의 역사가 남아있는 역사적인 건물입니다."),
        ("군함도(하시마섬)", 32.6277, 129.7382, "🏙️ 버려진 탄광섬! 투어로만 방문 가능하며 독특한 경험을 할 수 있습니다."),
        ("하우스텐보스", 33.0863, 129.7855, "🏰 네덜란드 테마파크! 유럽의 거리를 그대로 재현한 대형 테마파크입니다.")
    ],
    '고베': [
        ("고베 하버랜드", 34.6817, 135.1862, "🛳️ 항구 주변 쇼핑&엔터테인먼트 지구! 밤에는 모자이크 불빛이 아름답습니다."),
        ("메리켄 파크", 34.6823, 135.1871, "⚓ 항구 주변 공원! 고베 대지진 메모리얼과 고베 포트 타워가 있습니다."),
        ("롯코산", 34.7679, 135.2425, "🌄 케이블카로 올라가는 전망 명소! 일본 3대 야경 중 하나인 '만 엔의 야경'을 볼 수 있습니다."),
        ("고베 포트 타워", 34.6823, 135.1874, "🗼 붉은색 특이한 디자인의 타워! 고베 항구의 상징물이자 전망대입니다."),
        ("난킨마치", 34.6932, 135.1955, "🏮 고베의 차이나타운! 맛있는 중국 요리와 다양한 중국 문화를 체험할 수 있습니다."),
        ("기타노 이진칸", 34.7007, 135.1944, "🏠 이국적인 서양 건축물 거리! 구 외국인 거주지로 유럽풍 저택들이 보존되어 있습니다."),
        ("아리마 온천", 34.7599, 135.2507, "♨️ 일본 3대 고전 온천! 롯코산 뒤편에 위치한 역사 깊은 온천 마을입니다."),
        ("스마 해변", 34.6356, 135.0727, "🏖️ 여름에 인기 있는 해변! 도심에서 가까운 해수욕장으로 수영과 해변 스포츠를 즐길 수 있습니다."),
        ("모토마치 쇼핑 거리", 34.6947, 135.1942, "🛍️ 고베 최대 쇼핑 거리! 패션과 잡화 상점이 즐비한 번화가입니다."),
        ("오쿠라 정원", 34.6909, 135.1990, "🍁 아름다운 일본식 정원! 사계절마다 다른 매력을 느낄 수 있는 도심 속 휴식 공간입니다.")
    ],
    '히로시마': [
        ("평화기념공원", 34.3913, 132.4527, "☮️ 원폭돔과 함께 평화를 기원하는 공간! 8월 6일에는 평화 기념식이 열립니다."),
        ("원폭돔", 34.3952, 132.4533, "🏛️ 원자폭탄의 비극을 상징하는 건물! 유네스코 세계문화유산으로 등재되었습니다."),
        ("히로시마 성", 34.4026, 132.4590, "🏯 '잉어의 성'이라 불리는 복원된 성! 벚꽃 시즌에 특히 아름답습니다."),
        ("슈케이엔 정원", 34.3981, 132.4566, "🎋 에도 시대의 전통 정원! 도심 속에서 조용한 휴식을 취할 수 있는 장소입니다."),
        ("미야지마(이츠쿠시마)", 34.2963, 132.3196, "⛩️ 바다에 떠 있는 도리이가 유명한 신사! 일본 3경 중 하나로 꼽히는 절경입니다."),
        ("오미야지마 로프웨이", 34.2773, 132.3208, "🚡 미야지마 섬의 전경을 한눈에! 미센산으로 올라가는 케이블카입니다."),
        ("히로시마 평화기념자료관", 34.3915, 132.4526, "🕊️ 원폭의 참상과 평화의 중요성을 전달하는 박물관! 깊은 감동을 주는 전시물이 있습니다."),
        ("히로시마 현대미술관", 34.3702, 132.3893, "🎨 현대 미술작품을 전시하는 미술관! 우즈미 공원 내에 위치하고 있습니다."),
        ("오노미치", 34.4090, 133.2052, "🚲 시마나미 카이도 사이클링 루트의 시작점! 아름다운 항구도시입니다."),
        ("히로시마 오코노미야키 무라", 34.3939, 132.4556, "🥞 히로시마식 오코노미야키 전문점 모음! 현지 맛을 즐길 수 있는 명소입니다.")
    ],
    '가나자와': [
        ("겐로쿠엔", 36.5631, 136.6624, "🌳 일본 3대 정원 중 하나! 사계절 모두 아름다운 풍경을 자랑합니다."),
        ("가나자와 성", 36.5640, 136.6590, "🏯 정원 옆에 위치한 역사적인 성! '금빛 물고기' 장식이 특징적입니다."),
        ("21세기 미술관", 36.5606, 136.6562, "🎨 현대적인 원형 미술관! 리치 카와무라의 수영장 설치미술이 유명합니다."),
        ("히가시 차야 거리", 36.5720, 136.6693, "🏮 게이샤 문화가 살아있는 전통 거리! 아름다운 목조 다다미방 카페에서 쉬어가세요."),
        ("오미초 시장", 36.5738, 136.6561, "🐟 300년 역사의 재래시장! 신선한 해산물과 현지 먹거리를 맛볼 수 있습니다."),
        ("묘류지 사원", 36.5583, 136.6650, "⛩️ 백엔 지폐에 등장하는 휴정원이 있는 절! 작지만 아름다운 정원이 유명합니다."),
        ("나가마치 부케야시키", 36.5670, 136.6615, "🏠 사무라이 저택 거리! 에도 시대 무사들의 생활을 엿볼 수 있습니다."),
        ("노노이치 과학관", 36.5194, 136.6016, "🚀 어린이와 함께 방문하기 좋은 과학관! 다양한 체험 전시가 있습니다."),
        ("시부타니 마을", 36.4519, 136.7862, "🏺 전통 도자기 마을! 구타니야키 도자기 체험이 가능합니다."),
        ("가가 유메카이도", 36.3203, 136.3066, "♨️ 다양한 온천을 즐길 수 있는 유메카이도 온천가! 일본 전통 료칸 체험이 인기입니다.")
    ],
    '오키나와': [
        ("슈리성", 26.2175, 127.7190, "🏯 류큐 왕국의 왕궁! 2000년 유네스코 세계문화유산으로 등재되었습니다."),
        ("츄라우미 수족관", 26.6914, 127.8780, "🐠 세계 최대급 수족관! 대형 고래상어와 만타를 볼 수 있습니다."),
        ("국제거리", 26.2144, 127.6798, "🛍️ 나하시의 메인 쇼핑 거리! 기념품, 류큐 유리공예, 현지 음식을 즐길 수 있습니다."),
        ("만자모", 26.4428, 127.8024, "🌊 코끼리 코 모양의 절벽! 오키나와 본섬에서 가장 아름다운 일몰 명소입니다."),
        ("고쿠사이도리 요일시장", 26.2162, 127.6794, "🥭 일요일에만 열리는 시장! 오키나와 특산품과 길거리 음식을 맛볼 수 있습니다."),
        ("에메랄드 비치", 26.6460, 127.9879, "🏝️ 미국 CNN이 선정한 세계 아름다운 해변! 에메랄드빛 바다가 장관입니다."),
        ("후쿠슈엔 정원", 26.2022, 127.7184, "🎋 중국식 정원! 나하시 근처의 아름다운 정원으로 평화로운 산책 코스입니다."),
        ("자미 섬", 26.3291, 127.9432, "🏊 스노클링 명소! 맑은 바다에서 열대어와 산호초를 관찰할 수 있습니다."),
        ("류큐 마을", 26.5235, 128.0311, "🏘️ 전통 오키나와 민속촌! 류큐 왕국 시대의 생활상을 체험할 수 있습니다."),
        ("유리교", 26.5016, 126.9288, "🌉 작은 섬들을 연결하는 다리! 맑은 날에는 마치 하늘을 걷는 듯한 느낌을 줍니다.")
    ]
}

# 일본 음식 추천 가이드
city_food_guide = {
    '도쿄': [
        "🍣 츠키지 외곽 시장: 신선한 초밥과 해산물 덮밥의 성지!",
        "🍜 신주쿠 골든가이: 라멘의 성지로 다양한 스타일의 라멘을 맛볼 수 있어요.",
        "🥞 하라주쿠 크레이프: 달콤한 과일과 크림이 가득한 컬러풀한 크레이프!",
        "🍡 아사쿠사 인형초밥: 귀여운 인형처럼 생긴 케이크 모양의 초밥!",
        "🍵 아키하바라 메이드 카페: 독특한 체험과 함께 귀여운 음식들을 즐길 수 있어요."
    ],
    '오사카': [
        "🦑 타코야키: 오사카의 소울푸드! 도톤보리에서 만드는 과정도 구경하세요.",
        "🥟 오코노미야키: 일본식 부침개로 히로시마식과 다른 오사카만의 스타일!",
        "🍢 쿠시카츠: 튀긴 꼬치요리로 신세카이 지역이 원조입니다.",
        "🥘 키츠네 우동: 유부(두부피) 주머니가 올라간 오사카식 우동!",
        "🍰 리치 치즈케이크: '리키시루' 카페의 인기 디저트!"
    ],
    '교토': [
        "🍜 교토식 라멘: 진한 돈코츠보다 담백한 닭육수 베이스!",
        "🍱 교바시라: 엄선된 제철 요리가 아름답게 담긴 교토의 전통 요리!",
        "🍡 미타라시 당고: 사카모토 마메노 하나의 당고가 유명해요!",
        "🍵 말차 디저트: 츠지리의 말차 파르페부터 말차 소프트 아이스크림까지!",
        "🍲 유도후: 담백한 두부요리로 겨울에 특히 인기있어요!"
    ],
    '후쿠오카': [
        "🍜 하카타 라멘: 돈코츠(돼지뼈) 국물이 특징인 후쿠오카 대표 라멘!",
        "🍲 모츠나베: 소의 내장을 넣은 전골요리로 겨울에 인기!",
        "🥟 교자: 나카스 지역의 철판교자가 바삭하고 맛있어요!",
        "🍚 명란젓 요리: 명란 파스타, 명란 주먹밥 등 창의적인 명란 요리!",
        "🐟 고등어 요리: 고등어 모둠회와 소금구이가 특히 유명해요!"
    ],
    '삿포로': [
        "🦀 게 요리: 홋카이도 대게는 세계적인 명물! 가니야에서 맛보세요.",
        "🍲 징기스칸: 양고기와 채소를 함께 구워먹는 홋카이도 향토 요리!",
        "🍜 미소 라멘: 삿포로의 대표 라멘으로 미소 베이스의 국물이 특징!",
        "🍦 소프트 아이스크림: 홋카이도 우유로 만든 크리미한 아이스크림!",
        "🧀 치즈 타르트: 유명한 '롯카테이'의 치즈 타르트는 필수 디저트!"
    ],
    '나라': [
        "🍡 가키노하 스시: 감잎에 싸인 독특한 형태의 초밥!",
        "🍵 쿠더기 떡차: 차와 함께 즐기는 떡 디저트!",
        "🍚 사슴 센베이: 사슴에게 먹이는 것 말고 사람이 먹는 버전도 있어요!",
        "🍜 미우가 우동: 나라 특유의 굵은 면발이 특징인 우동!",
        "🍢 구시카츠: 튀긴 꼬치 요리로 소스에 찍어 먹어요!"
    ],
    '요코하마': [
        "🍜 이오 라멘: 요코하마 중화가에서 즐기는 정통 중화 라멘!",
        "🥟 소롱포: 차이나타운에서 즐기는 육즙 가득 만두!",
        "🍩 요코하마 항만 도넛: '히다마리'의 귀여운 항만 모양 도넛!",
        "🍦 실크 아이스크림: 실크 박물관 근처에서 맛보는 부드러운 아이스크림!",
        "🥞 레드 브릭 팬케이크: 아카렌가 창고의 인기 브런치!"
    ],
    '나가사키': [
        "🍜 나가사키 짬뽕: 일본식 짬뽕의 원조로 매운맛이 특징!",
        "🥟 카스테라: 포르투갈에서 전해진 달콤한 스폰지 케이크!",
        "🍙 시카마키: 대나무 잎에 싸인 찹쌀떡!",
        "🍢 터키 라이스: 나가사키식 카레, 필라프, 스파게티가 한 접시에!",
        "🥮 중화 과자: 차이나타운에서 맛보는 다양한 중국식 과자!"
    ],
    '고베': [
        "🥩 고베 소고기: 세계적으로 유명한 마블링이 아름다운 와규 스테이크!",
        "🍞 고베 푸딩: 인기 디저트로 '모로조프'의 푸딩이 유명!",
        "🧁 고베 롤 케이크: 부드럽고 달콤한 크림이 가득!",
        "🍜 소바메시: 야키소바와 밥을 함께 볶은 고베의 향토 요리!",
        "🥖 아침 빵: 항구도시의 영향으로 발달한 다양한 유럽식 빵집!"
    ],
    '히로시마': [
        "🥞 히로시마 오코노미야키: 두꺼운 면이 특징인 히로시마식 오코노미야키!",
        "🍡 모미지 만주: 단풍잎 모양의 달콤한 과자!",
        "🥟 쓰케맨: 쫄깃한 면을 찍어 먹는 특별한 라멘!",
        "🐚 굴 요리: 히로시마는 굴 생산지로 유명해요!",
        "🍚 레몬 요리: 레몬 생산지인 세토우치의 레몬을 활용한 다양한 요리!"
    ],
    '가나자와': [
        "🦀 노토 게 요리: 겨울에 맛보는 달콤한 게살!",
        "🍚 지부니: 오리고기를 넣은 전통 스튜 요리!",
        "🥘 치야무스: 가나자와의 전통 두부 요리!",
        "🍵 금박 아이스크림: 가나자와 금박을 올린 럭셔리 디저트!",
        "🍶 노토 술: 현지에서만 맛볼 수 있는 특산 사케!"
    ],
    '오키나와': [
        "🍜 오키나와 소바: 일반 소바와 다른 두툼한 면발과 돼지고기가 특징!",
        "🥩 라후테: 돼지고기를 오래 조리한 오키나와식 족발 요리!",
        "🍺 오리온 맥주: 오키나와 현지 맥주로 시원한 맛이 일품!",
        "🍧 블루 실 아이스크림: 오키나와 바다색을 닮은 아이스크림!",
        "🧁 베니이모 타르트: 보라색 고구마로 만든 달콤한 타르트!"
    ]
}

# 쇼핑 가이드
city_shopping_guide = {
    '도쿄': [
        "🛍️ 긴자: 럭셔리 브랜드의 메카! 미츠코시 백화점도 필수 방문지입니다.",
        "👗 하라주쿠/다케시타도리: 10대 패션과 독특한 스타일의 중심지!",
        "🛒 시부야: 109 백화점은 젊은 여성 패션의 중심지!",
        "💻 아키하바라: 전자제품과 애니메이션 상품의 천국!",
        "👘 아사쿠사: 일본 전통 기념품과 공예품을 찾는다면 여기로!"
    ],
    '오사카': [
        "🏪 신사이바시/도톤보리: 중저가 브랜드와 트렌디한 패션 아이템!",
        "🛒 난바: 난바 시티와 다키마치 상점가에서 다양한 쇼핑을!",
        "👑 우메다: 한큐, 한신 백화점 등 고급 쇼핑의 중심지!",
        "🧸 덴덴타운: 오타쿠 문화의 성지! 애니메이션 굿즈와 피규어 천국!",
        "🥢 구로몬 시장: 주방용품과 식기류, 식재료를 구매하기 좋은 곳!"
    ],
    '교토': [
        "🎎 기온: 전통 인형, 부채, 기모노 등 전통 공예품!",
        "🍵 니시키 시장: 교토 특산품과 전통 식품을 쇼핑하기 좋은 곳!",
        "🎨 교토역: 이세탄 백화점에서 현대적인 쇼핑을!",
        "👘 신쿄교도: 기모노와 전통 직물 전문점이 모여있는 곳!",
        "🧣 아라시야마: 대나무 제품과 전통 수공예품이 인기!"
    ],
    '후쿠오카': [
        "🏬 텐진: 후쿠오카의 쇼핑 중심지! 이와타야, 미츠코시 백화점 등!",
        "🛍️ 캐널시티: 쇼핑, 식사, 엔터테인먼트가 한 곳에!",
        "👚 쿠시다 신사 주변: 작은 부티크와 디자이너 숍!",
        "⚡ 토토 매장: 일본 최고의 변기 브랜드 쇼룸, 기념품으로 인기!",
        "🛒 마리노아 시티: 큰 아울렛 쇼핑몰로 해변가에 위치!"
    ],
    '삿포로': [
        "🧀 타나카야: 홋카이도 치즈와 유제품 전문점!",
        "🍬 시로이코이비토 파크: 인기 과자 공장 겸 테마파크!",
        "🏪 탄키키타 쇼핑 거리: 삿포로 최대 쇼핑 구역!",
        "🥾 몬트벨/노스페이스: 아웃도어 장비 쇼핑은 여기서!",
        "🦌 홋카이도 안테나숍: 홋카이도 전역의 특산품이 모인 곳!"
    ],
    '나라': [
        "🦌 나라마치: 전통 공예품과 독특한 기념품 가게!",
        "🎎 히구치 인형: 나라의 전통 인형 전문점!",
        "📿 카스가 타이샤 기념품점: 신사 내 위치한 영험한 기념품점!",
        "🍵 나라 말차: 고품질 말차와 다기 세트!",
        "🧸 사슴 모티프 상품: 사슴 인형, 사슴 센베이 등 귀여운 사슴 상품!"
    ],
    '요코하마': [
        "🚢 요코하마 월드 포터스: 세계 각국의 상품을 만날 수 있는 쇼핑몰!",
        "🏮 차이나타운 상점가: 중국 전통 의상과 잡화, 중국 차!",
        "🧢 레드 브릭 창고: 개성 있는 숍과 디자이너 상품!",
        "🧸 포켓몬 센터: 요코하마 랜드마크 타워 내 위치한 포켓몬 굿즈 전문점!",
        "⚓ 마린 워크: 항만 뷰가 아름다운 쇼핑몰!"
    ],
    '나가사키': [
        "🍰 카스테라 가게: 후쿠사야 등 전통 카스테라 전문점!",
        "🏮 차이나타운: 중국 전통 공예품과 잡화!",
        "🚢 데지마 기념품점: 에도 시대와 서양 교류 관련 상품!",
        "⛪ 오우라 성당 주변: 기독교 관련 기념품과 잡화!",
        "🍜 짬뽕 관련 상품: 나가사키 짬뽕 박물관의 라멘 기념품!"
    ],
    '고베': [
        "🥩 고베 소고기 관련 상품: 고급 육포와 조미료!",
        "🍷 기타노 잡화점: 이국적인 분위기의 수입 잡화!",
        "👗 산노미야 센터 거리: 젊은 층을 위한 패션 아이템!",
        "⚓ 하버랜드 우미에: 항구가 보이는 대형 쇼핑몰!",
        "🧁 고베 스위츠: 유명 파티세리와 고베 푸딩 선물세트!"
    ],
    '히로시마': [
        "🥞 오코노미야키 소스/가루: 히로시마식 오코노미야키를 집에서도!",
        "☮️ 평화 관련 상품: 종이학과 평화 기념 아이템!",
        "🍋 세토우치 레몬 제품: 레몬 과자, 잼, 화장품!",
        "🦞 미야지마 전통 목제품: 밥주걱과 목각 인형!",
        "👕 카프 응원 용품: 히로시마 지역 야구팀 기념품!"
    ],
    '가나자와': [
        "🥄 금박 장식품: 금박을 입힌 식기, 화장품, 식용 금박!",
        "🎨 구타니 도자기: 화려한 색감의 전통 도자기!",
        "👘 가가 유젠: 화려한 색상의 전통 염색 제품!",
        "🧶 가가 자수: 장인이 만든 섬세한 자수 제품!",
        "🍡 화과자: 계절마다 디자인이 바뀌는 아름다운 화과자!"
    ],
    '오키나와': [
        "🥃 아와모리: 오키나와 전통 증류주와 유리 그릇!",
        "🎸 산신: 오키나와 전통 악기와 음악 CD!",
        "👘 류큐 유리: 알록달록한 색상의 유리 공예품!",
        "🐚 산호 장신구: 현지 산호로 만든 액세서리!",
        "👘 시사: 오키나와 전통 사자상 장식품!"
    ],
    '도쿄': [
        "🛍️ 긴자: 럭셔리 브랜드의 메카! 미츠코시 백화점도 필수 방문지입니다.",
        "👗 하라주쿠/다케시타도리: 10대 패션과 독특한 스타일의 중심지!",
        "🛒 시부야: 109 백화점은 젊은 여성 패션의 중심지!",
        "💻 아키하바라: 전자제품과 애니메이션 상품의 천국!",
        "👘 아사쿠사: 일본 전통 기념품과 공예품을 찾는다면 여기로!"
    ],
    '오사카': [
        "🏪 신사이바시/도톤보리: 중저가 브랜드와 트렌디한 패션 아이템!",
        "🛒 난바: 난바 시티와 다키마치 상점가에서 다양한 쇼핑을!",
        "👑 우메다: 한큐, 한신 백화점 등 고급 쇼핑의 중심지!",
        "🧸 덴덴타운: 오타쿠 문화의 성지! 애니메이션 굿즈와 피규어 천국!",
        "🥢 구로몬 시장: 주방용품과 식기류, 식재료를 구매하기 좋은 곳!"
    ],
    '교토': [
        "🎎 기온: 전통 인형, 부채, 기모노 등 전통 공예품!",
        "🍵 니시키 시장: 교토 특산품과 전통 식품을 쇼핑하기 좋은 곳!",
        "🎨 교토역: 이세탄 백화점에서 현대적인 쇼핑을!",
        "👘 신쿄교도: 기모노와 전통 직물 전문점이 모여있는 곳!",
        "🧣 아라시야마: 대나무 제품과 전통 수공예품이 인기!"
    ]
}

# 소통 필수 일본어 구문
japanese_phrases = {
    "인사": [
        "こんにちは (곤니치와) - 안녕하세요",
        "おはようございます (오하요 고자이마스) - 좋은 아침입니다",
        "こんばんは (곤반와) - 안녕하세요(저녁인사)",
        "さようなら (사요나라) - 안녕히 가세요",
        "ありがとうございます (아리가토 고자이마스) - 감사합니다"
    ],
    "쇼핑/식당": [
        "いくらですか (이쿠라데스카) - 얼마입니까?",
        "これをください (코레오 쿠다사이) - 이것을 주세요",
        "メニューをください (메뉴오 쿠다사이) - 메뉴판 주세요",
        "おいしいです (오이시이데스) - 맛있습니다",
        "クレジットカードは使えますか (쿠레짓토 카도와 츠카에마스카) - 신용카드 사용 가능한가요?"
    ],
    "교통": [
        "～はどこですか (～와 도코데스카) - ～은 어디입니까?",
        "駅はどこですか (에키와 도코데스카) - 역은 어디입니까?",
        "これは～に行きますか (코레와 ～니 이키마스카) - 이것은 ～에 갑니까?",
        "トイレはどこですか (토이레와 도코데스카) - 화장실은 어디입니까?",
        "ホテルに行きたいです (호테루니 이키타이데스) - 호텔에 가고 싶습니다"
    ],
    "긴급상황": [
        "助けてください (타스케테 쿠다사이) - 도와주세요",
        "日本語ができません (니혼고가 데키마센) - 일본어를 못합니다",
        "病気です (뵤키데스) - 아픕니다",
        "警察を呼んでください (케이사츠오 욘데 쿠다사이) - 경찰을 불러주세요",
        "韓国語が話せる人はいますか (칸코쿠고가 하나세루 히토와 이마스카) - 한국어 할 줄 아는 사람 있나요?"
    ]
}

# 추가 데이터: 시즌별 이벤트
seasonal_events = {
    '봄(3-5월)': [
        "🌸 벚꽃 시즌 (3월 하순-4월): 전국적으로 벚꽃 축제가 열립니다. 특히 교토 철학의 길, 도쿄 우에노 공원, 오사카 성 주변이 유명해요.",
        "🎌 골든위크 (4월 말-5월 초): 연휴 기간으로 여행객이 많고 가격이 비싸니 예약을 미리 하세요.",
        "🎏 어린이날 (5월 5일): 잉어 모양 깃발(고이노보리)과 어린이 축제를 볼 수 있습니다.",
        "🍵 신차 시즌 (5월): 첫 수확한 신선한 녹차가 출시되는 시기입니다."
    ],
    '여름(6-8월)': [
        "☔ 장마 시즌 (6월): 츠유(장마) 기간으로 비가 많이 내립니다. 우산과 방수 용품을 준비하세요.",
        "🎆 불꽃축제 (7-8월): 전국 각지에서 화려한 불꽃축제가 열려요. 도쿄의 스미다가와, 오사카의 PL 불꽃축제가 유명합니다.",
        "🏮 봉오도리 (8월): 전통 여름 축제로 각 지역에서 독특한 춤을 볼 수 있어요.",
        "⛰️ 후지산 등산 시즌 (7-8월): 후지산 공식 등산 시즌입니다."
    ],
    '가을(9-11월)': [
        "🍁 단풍 시즌 (10-11월): 교토, 닛코, 홋카이도에서 아름다운 단풍을 감상할 수 있어요.",
        "🎑 추석 (9월 중순): 오츠키미(달구경) 행사와 특별한 음식을 맛볼 수 있습니다.",
        "🍇 과일 수확 시즌: 사과, 배, 포도 등 제철 과일을 직접 따는 체험을 할 수 있어요.",
        "🏮 가을 축제: 각 지역의 신사에서 추수 감사제가 열립니다."
    ],
    '겨울(12-2월)': [
        "✨ 일루미네이션 (12-1월): 도쿄 미드타운, 고베 루미나리에 등 화려한 불빛 축제가 열립니다.",
        "🎍 신년 축하 (1월 1-3일): 하츠모데(첫 참배)와 오세치 요리를 경험해보세요.",
        "❄️ 눈축제 (2월): 삿포로 눈축제, 아오모리 네부타 등 북부 지역의 겨울 축제가 유명합니다.",
        "🐚 굴 시즌: 히로시마 등지에서 제철 굴 요리를 맛볼 수 있어요.",
        "♨️ 온천 베스트 시즌: 추운 겨울, 따뜻한 온천에서 설경을 감상하는 것이 최고입니다."
    ]
}

city_shopping_guide = {
    '후쿠오카': [
        "🏬 텐진: 후쿠오카의 쇼핑 중심지! 이와타야, 미츠코시 백화점 등!",
        "🛍️ 캐널시티: 쇼핑, 식사, 엔터테인먼트가 한 곳에!",
        "👚 쿠시다 신사 주변: 작은 부티크와 디자이너 숍!",
        "⚡ 토토 매장: 일본 최고의 변기 브랜드 쇼룸, 기념품으로 인기!",
        "🛒 마리노아 시티: 큰 아울렛 쇼핑몰로 해변가에 위치!"
    ],
    '삿포로': [
        "🧀 타나카야: 홋카이도 치즈와 유제품 전문점!",
        "🍬 시로이코이비토 파크: 인기 과자 공장 겸 테마파크!",
        "🏪 탄키키타 쇼핑 거리: 삿포로 최대 쇼핑 구역!",
        "🥾 몬트벨/노스페이스: 아웃도어 장비 쇼핑은 여기서!",
        "🦌 홋카이도 안테나숍: 홋카이도 전역의 특산품이 모인 곳!"
    ],
    '나라': [
        "🦌 나라마치: 전통 공예품과 독특한 기념품 가게!",
        "🎎 히구치 인형: 나라의 전통 인형 전문점!",
        "📿 카스가 타이샤 기념품점: 신사 내 위치한 영험한 기념품점!",
        "🍵 나라 말차: 고품질 말차와 다기 세트!",
        "🧸 사슴 모티프 상품: 사슴 인형, 사슴 센베이 등 귀여운 사슴 상품!"
    ],
    '요코하마': [
        "🚢 요코하마 월드 포터스: 세계 각국의 상품을 만날 수 있는 쇼핑몰!",
        "🏮 차이나타운 상점가: 중국 전통 의상과 잡화, 중국 차!",
        "🧢 레드 브릭 창고: 개성 있는 숍과 디자이너 상품!",
        "🧸 포켓몬 센터: 요코하마 랜드마크 타워 내 위치한 포켓몬 굿즈 전문점!",
        "⚓ 마린 워크: 항만 뷰가 아름다운 쇼핑몰!"
    ],
    '나가사키': [
        "🍰 카스테라 가게: 후쿠사야 등 전통 카스테라 전문점!",
        "🏮 차이나타운: 중국 전통 공예품과 잡화!",
        "🚢 데지마 기념품점: 에도 시대와 서양 교류 관련 상품!",
        "⛪ 오우라 성당 주변: 기독교 관련 기념품과 잡화!",
        "🍜 짬뽕 관련 상품: 나가사키 짬뽕 박물관의 라멘 기념품!"
    ],
    '고베': [
        "🥩 고베 소고기 관련 상품: 고급 육포와 조미료!",
        "🍷 기타노 잡화점: 이국적인 분위기의 수입 잡화!",
        "👗 산노미야 센터 거리: 젊은 층을 위한 패션 아이템!",
        "⚓ 하버랜드 우미에: 항구가 보이는 대형 쇼핑몰!",
        "🧁 고베 스위츠: 유명 파티세리와 고베 푸딩 선물세트!"
    ],
    '히로시마': [
        "🥞 오코노미야키 소스/가루: 히로시마식 오코노미야키를 집에서도!",
        "☮️ 평화 관련 상품: 종이학과 평화 기념 아이템!",
        "🍋 세토우치 레몬 제품: 레몬 과자, 잼, 화장품!",
        "🦞 미야지마 전통 목제품: 밥주걱과 목각 인형!",
        "👕 카프 응원 용품: 히로시마 지역 야구팀 기념품!"
    ],
    '가나자와': [
        "🥄 금박 장식품: 금박을 입힌 식기, 화장품, 식용 금박!",
        "🎨 구타니 도자기: 화려한 색감의 전통 도자기!",
        "👘 가가 유젠: 화려한 색상의 전통 염색 제품!",
        "🧶 가가 자수: 장인이 만든 섬세한 자수 제품!",
        "🍡 화과자: 계절마다 디자인이 바뀌는 아름다운 화과자!"
    ],
    '오키나와': [
        "🥃 아와모리: 오키나와 전통 증류주와 유리 그릇!",
        "🎸 산신: 오키나와 전통 악기와 음악 CD!",
        "👘 류큐 유리: 알록달록한 색상의 유리 공예품!",
        "🐚 산호 장신구: 현지 산호로 만든 액세서리!",
        "👘 시사: 오키나와 전통 사자상 장식품!"
    ],
    '도쿄': [
        "🛍️ 긴자: 럭셔리 브랜드의 메카! 미츠코시 백화점도 필수 방문지입니다.",
        "👗 하라주쿠/다케시타도리: 10대 패션과 독특한 스타일의 중심지!",
        "🛒 시부야: 109 백화점은 젊은 여성 패션의 중심지!",
        "💻 아키하바라: 전자제품과 애니메이션 상품의 천국!",
        "👘 아사쿠사: 일본 전통 기념품과 공예품을 찾는다면 여기로!"
    ],
    '오사카': [
        "🏪 신사이바시/도톤보리: 중저가 브랜드와 트렌디한 패션 아이템!",
        "🛒 난바: 난바 시티와 다키마치 상점가에서 다양한 쇼핑을!",
        "👑 우메다: 한큐, 한신 백화점 등 고급 쇼핑의 중심지!",
        "🧸 덴덴타운: 오타쿠 문화의 성지! 애니메이션 굿즈와 피규어 천국!",
        "🥢 구로몬 시장: 주방용품과 식기류, 식재료를 구매하기 좋은 곳!"
    ],
    '교토': [
        "🎎 기온: 전통 인형, 부채, 기모노 등 전통 공예품!",
        "🍵 니시키 시장: 교토 특산품과 전통 식품을 쇼핑하기 좋은 곳!",
        "🎨 교토역: 이세탄 백화점에서 현대적인 쇼핑을!",
        "👘 신쿄교도: 기모노와 전통 직물 전문점이 모여있는 곳!",
        "🧣 아라시야마: 대나무 제품과 전통 수공예품이 인기!"
    ]
}

# 소통 필수 일본어 구문
japanese_phrases = {
    "인사": [
        "こんにちは (곤니치와) - 안녕하세요",
        "おはようございます (오하요 고자이마스) - 좋은 아침입니다",
        "こんばんは (곤반와) - 안녕하세요(저녁인사)",
        "さようなら (사요나라) - 안녕히 가세요",
        "ありがとうございます (아리가토 고자이마스) - 감사합니다"
    ],
    "쇼핑/식당": [
        "いくらですか (이쿠라데스카) - 얼마입니까?",
        "これをください (코레오 쿠다사이) - 이것을 주세요",
        "メニューをください (메뉴오 쿠다사이) - 메뉴판 주세요",
        "おいしいです (오이시이데스) - 맛있습니다",
        "クレジットカードは使えますか (쿠레짓토 카도와 츠카에마스카) - 신용카드 사용 가능한가요?"
    ],
    "교통": [
        "～はどこですか (～와 도코데스카) - ～은 어디입니까?",
        "駅はどこですか (에키와 도코데스카) - 역은 어디입니까?",
        "これは～に行きますか (코레와 ～니 이키마스카) - 이것은 ～에 갑니까?",
        "トイレはどこですか (토이레와 도코데스카) - 화장실은 어디입니까?",
        "ホテルに行きたいです (호테루니 이키타이데스) - 호텔에 가고 싶습니다"
    ],
    "긴급상황": [
        "助けてください (타스케테 쿠다사이) - 도와주세요",
        "日本語ができません (니혼고가 데키마센) - 일본어를 못합니다",
        "病気です (뵤키데스) - 아픕니다",
        "警察を呼んでください (케이사츠오 욘데 쿠다사이) - 경찰을 불러주세요",
        "韓国語が話せる人はいますか (칸코쿠고가 하나세루 히토와 이마스카) - 한국어 할 줄 아는 사람 있나요?"
    ]
}

# 추가 데이터: 시즌별 이벤트
seasonal_events = {
    '봄(3-5월)': [
        "🌸 벚꽃 시즌 (3월 하순-4월): 전국적으로 벚꽃 축제가 열립니다. 특히 교토 철학의 길, 도쿄 우에노 공원, 오사카 성 주변이 유명해요.",
        "🎌 골든위크 (4월 말-5월 초): 연휴 기간으로 여행객이 많고 가격이 비싸니 예약을 미리 하세요.",
        "🎏 어린이날 (5월 5일): 잉어 모양 깃발(고이노보리)과 어린이 축제를 볼 수 있습니다.",
        "🍵 신차 시즌 (5월): 첫 수확한 신선한 녹차가 출시되는 시기입니다."
    ],
    '여름(6-8월)': [
        "☔ 장마 시즌 (6월): 츠유(장마) 기간으로 비가 많이 내립니다. 우산과 방수 용품을 준비하세요.",
        "🎆 불꽃축제 (7-8월): 전국 각지에서 화려한 불꽃축제가 열려요. 도쿄의 스미다가와, 오사카의 PL 불꽃축제가 유명합니다.",
        "🏮 봉오도리 (8월): 전통 여름 축제로 각 지역에서 독특한 춤을 볼 수 있어요.",
        "⛰️ 후지산 등산 시즌 (7-8월): 후지산 공식 등산 시즌입니다."
    ],
    '가을(9-11월)': [
        "🍁 단풍 시즌 (10-11월): 교토, 닛코, 홋카이도에서 아름다운 단풍을 감상할 수 있어요.",
        "🎑 추석 (9월 중순): 오츠키미(달구경) 행사와 특별한 음식을 맛볼 수 있습니다.",
        "🍇 과일 수확 시즌: 사과, 배, 포도 등 제철 과일을 직접 따는 체험을 할 수 있어요.",
        "🏮 가을 축제: 각 지역의 신사에서 추수 감사제가 열립니다."
    ],
    '겨울(12-2월)': [
        "✨ 일루미네이션 (12-1월): 도쿄 미드타운, 고베 루미나리에 등 화려한 불빛 축제가 열립니다.",
        "🎍 신년 축하 (1월 1-3일): 하츠모데(첫 참배)와 오세치 요리를 경험해보세요.",
        "❄️ 눈축제 (2월): 삿포로 눈축제, 아오모리 네부타 등 북부 지역의 겨울 축제가 유명합니다.",
        "🐚 굴 시즌: 히로시마 등지에서 제철 굴 요리를 맛볼 수 있어요.",
        "♨️ 온천 베스트 시즌: 추운 겨울, 따뜻한 온천에서 설경을 감상하는 것이 최고입니다."
    ]
}

# 일본 여행 꿀팁
travel_tips = {
    '교통': [
        "🚅 JR 패스: 방일 전 자국에서 구매해야 하며, 신칸센을 포함한 JR선 무제한 이용 가능!",
        "🚇 IC 카드: 스이카, 파스모, 이코카 등 교통 IC 카드를 구매하면 티켓 구매 없이 편리하게 이동 가능!",
        "📱 구글맵/일본 교통 앱: 열차 시간과 환승 정보를 정확히 알려줍니다. 특히 Japan Transit Planner 앱 추천!",
        "🧳 택시 이용: 목적지 주소를 미리 일본어로 적어두면 의사소통이 수월합니다.",
        "🚶‍♀️ 도보 여행: 도쿄, 오사카 등 대도시는 지하철역 간 거리가 가까워 걸어다니기 좋습니다!"
    ],
    '숙박': [
        "🏨 비지니스 호텔: 합리적인 가격에 깨끗한 시설을 이용할 수 있어요.",
        "👘 료칸: 전통 일본식 여관으로 타타미 방과 온천, 가이세키 요리를 체험할 수 있어요.",
        "🛌 캡슐 호텔: 독특한 경험과 함께 저렴한 가격이 장점!",
        "🏡 에어비앤비: 주택가에 위치해 현지인처럼 생활해볼 수 있어요.",
        "🧘 사찰 숙박(슈쿠보): 절에서 하룻밤을 보내며 아침 명상에 참여할 수 있는 특별한 경험!"
    ],
    '결제/쇼핑': [
        "💴 현금 준비: 일본은 여전히 현금 사용 비율이 높습니다. 교통, 작은 상점, 사찰 등에서는 현금이 필요해요!",
        "💳 신용카드: 대형 상점, 백화점, 체인 레스토랑에서는 대부분 사용 가능합니다.",
        "💰 세금 환급: 면세점에서는 여권을 지참하면 소비세를 환급받을 수 있어요(5,000엔 이상 구매시).",
        "🧾 영수증 확인: 일본은 계산이 정확한 편이지만, 혹시 모르니 꼭 확인하세요.",
        "🛍️ 다이소: 100엔샵(다이소)에서 저렴하고 실용적인 여행 용품과 기념품을 구매할 수 있어요!"
    ],
    '에티켓': [
        "👟 실내 신발 탈의: 료칸, 일부 식당, 사찰 등에서는 신발을 벗어야 합니다.",
        "🍜 식사 예절: 면류는 소리 내어 먹어도 괜찮습니다! 오히려 맛있게 먹는다는 표현이에요.",
        "🚶‍♂️ 에스컬레이터: 도쿄는 왼쪽, 오사카는 오른쪽에 서서 다른 쪽은 걷는 사람을 위해 비워둡니다.",
        "📱 전화통화: 전철 안에서는 통화를 자제하는 것이 예의입니다.",
        "♨️ 온천 예절: 온천에 들어가기 전 몸을 깨끗이 씻고, 수건은 머리나 어깨 위에 올려놓습니다. 타투가 있다면 이용 가능 여부 확인!"
    ],
    '음식': [
        "🥢 젓가락 에티켓: 젓가락으로 음식을 건네거나, 젓가락을 밥에 꽂아두는 행동은 삼가세요.",
        "🍚 '이타다키마스'/'고치소사마': 식사 전후에 감사 인사를 표현하는 문화입니다.",
        "💦 물수건(오시보리): 식사 전 손을 닦는 용도로만 사용하세요.",
        "🍵 녹차 서비스: 많은 식당에서 무료로 녹차를 제공합니다.",
        "🈺 식당 입장: '스미마셍'이라고 부르거나, 입구의 직원에게 인원수를 손가락으로 표시하세요."
    ]
}

# 일본 여행 주의사항
travel_warnings = {
    '자연재해': [
        "🌀 태풍 시즌 (7-10월): 일본 여행 전 기상 정보를 확인하세요. 특히 9월은 태풍이 가장 많이 발생합니다.",
        "🌋 화산 활동: 활화산 근처 여행 시 안전 정보를 미리 확인하세요(아소산, 사쿠라지마 등).",
        "🌊 쓰나미 경보: 해안가에 있을 때 지진을 느끼면 즉시 높은 곳으로 대피하세요.",
        "☔ 장마 기간 (6월 초-7월 중순): 집중 호우로 인한 교통 지연이 발생할 수 있습니다."
    ],
    '건강': [
        "🥵 여름 더위: 일본의 여름은 고온다습합니다. 수분 보충과 휴식을 충분히 취하세요.",
        "🤧 일본 꽃가루 알레르기(스기 꽃가루): 2-4월에 특히 심합니다. 필요시 마스크 착용을 권장합니다.",
        "💊 약 반입: 일부 약은 일본에서 금지되어 있어요. 처방약을 가져올 경우 영문 처방전을 지참하세요.",
        "🏥 여행자 보험: 일본의 의료비는 비싼 편이니, 여행자 보험 가입을 권장합니다."
    ],
    '문화적 주의사항': [
        "🤫 공공장소: 전철이나 버스에서는 조용히 해주세요. 특히 통화는 자제해주세요.",
        "♨️ 온천 이용: 타투가 있으면 입장이 거부될 수 있습니다. 사전에 확인하세요.",
        "🚮 쓰레기 분리수거: 일본은 쓰레기 분리배출이 엄격합니다. 쓰레기통이 적어 휴지를 가지고 다니는 것이 좋아요.",
        "📸 사진 촬영: 박물관, 사찰 등 일부 장소에서는 사진 촬영이 금지되어 있습니다."
    ],
    '기타 주의': [
        "💰 팁 문화: 일본에는 팁 문화가 없어요. 오히려 불쾌하게 여길 수 있으니 주지 마세요.",
        "🚬 흡연: 길거리 흡연은 법적으로 금지된 곳이 많습니다. 지정된 흡연 구역을 이용하세요.",
        "📱 공중전화: 긴급 상황을 대비해 공중전화 사용법을 알아두세요(110: 경찰, 119: 화재/구급).",
        "🧳 수하물 보관: 기차역이나 주요 관광지에는 코인로커가 있어 짐을 임시 보관할 수 있습니다."
    ]
}

# 비자 및 입국 정보
entry_info = {
    "비자": "한국 국적자는 90일 이내 관광 목적으로 무비자 입국이 가능합니다. 다만, 코로나19 상황에 따라 정책이 변경될 수 있으니 출국 전 최신 정보를 외교부나 일본 대사관 웹사이트에서 확인하세요.",
    "입국심사": "입국 시 여권, 귀국 항공권, 체류 예정지 정보(호텔 예약 확인서 등)가 필요할 수 있습니다. 입국 카드는 비행기 내에서 배부되며, 영어로 작성 가능합니다.",
    "세관": "주류 3병(760ml 기준), 담배 200개비, 향수 2온스까지 면세 반입 가능합니다. 식품류 반입에는 제한이 있으니 사전에 확인하세요.",
    "검역": "일본은 검역이 엄격한 편입니다. 특히 육류, 과일, 야채 등의 반입은 제한될 수 있습니다. 의약품 반입 시 처방전이나 의사소견서를 지참하는 것이 좋습니다."
}

# 주요 여행지별 날씨 정보
weather_info = {
    '도쿄': {
        '봄(3-5월)': "🌸 벚꽃 시즌으로 날씨가 온화하고 쾌적합니다. 3월 초는 아직 쌀쌀할 수 있으니 가벼운 겉옷을 준비하세요.",
        '여름(6-8월)': "☀️🌧️ 고온다습하며 매우 덥습니다(30-35°C). 에어컨이 잘 되어있는 곳이 많지만, 수분 보충이 중요해요. 8월 말부터 태풍 가능성도 있습니다.",
        '가을(9-11월)': "🍁 선선하고 맑은 날이 많아 여행하기 가장 좋은 시기입니다. 9월 초는 아직 덥고, 11월 말은 쌀쌀할 수 있어요.",
        '겨울(12-2월)': "❄️ 춥지만 눈는 날이 적고 대체로 건조합니다. 평균 기온은 5-10°C지만, 바람이 강해 체감온도는 더 낮을 수 있어요."
    },
    '교토/오사카': {
        '봄(3-5월)': "🌸 벚꽃 시즌인 3월 말~4월 초가 최고의 여행 시기입니다. 날씨가 온화하고 관광하기 좋아요.",
        '여름(6-8월)': "☀️ 매우 덥고 습합니다(최대 38°C). '분지 효과'로 도쿄보다 더 더울 수 있으니 수분 보충과 자외선 차단에 신경쓰세요.",
        '가을(9-11월)': "🍁 단풍 시즌으로 10월 말~11월이 최고의 여행 시기입니다. 기온이 쾌적하고 맑은 날이 많아요.",
        '겨울(12-2월)': "❄️ 도쿄보다 더 춥습니다. 특히 교토는 산으로 둘러싸여 있어 밤에 기온이 크게 떨어질 수 있어요. 따뜻한 옷을 준비하세요."
    },
    '홋카이도': {
        '봄(4-6월)': "🌷 늦은 봄이 오며, 4월까지 눈이 남아있을 수 있습니다. 5-6월은 꽃이 만개하는 아름다운 시기입니다.",
        '여름(7-8월)': "☀️ 본토보다 시원하고 쾌적합니다(20-25°C). 에어컨이 없는 숙소도 있을 정도로 선선해요. 여름 축제와 라벤더 시즌으로 인기있는 여행 시기입니다.",
        '가을(9-10월)': "🍁 단풍이 일찍 시작됩니다. 9월 중순부터 단풍이 물들기 시작하며, 10월이면 본격적인 겨울 준비가 시작돼요.",
        '겨울(11-3월)': "❄️ 극심한 추위와 많은 눈이 특징입니다(-10~0°C). 하지만 파우더 스노우로 유명한 스키장과 삿포로 눈축제 등 겨울 액티비티가 풍부합니다."
    },
    '오키나와': {
        '봄(3-5월)': "🌺 온화하고 쾌적한 날씨로 여행하기 좋은 시기입니다. 3월부터 해양 스포츠를 즐길 수 있어요.",
        '여름(6-9월)': "🌞 덥고 습하며 태풍 시즌이 겹칩니다. 특히 8-9월은 태풍 위험이 높으니 여행 계획 시 주의하세요. 대신 해양 스포츠의 최고 시즌입니다.",
        '가을(10-11월)': "🌊 온화한 날씨가 계속되며, 태풍 위험이 줄어 여행하기 좋은 시기입니다. 바다는 여전히 따뜻해 수영이 가능해요.",
        '겨울(12-2월)': "🌈 일본 본토에 비해 매우 온화합니다(15-20°C). 다만 바람이 강하고 비가 내리는 날이 있으며, 해수욕은 어려울 수 있어요."
    }
}

def show_city_map(city, hotspots):
    lat, lon = city_coordinates[city]
    
    # 핫플레이스 데이터 준비
    spot_names = [spot[0] for spot in hotspots.get(city, [])]
    spot_lats = [spot[1] for spot in hotspots.get(city, [])]
    spot_lons = [spot[2] for spot in hotspots.get(city, [])]
    spot_tips = [spot[3] for spot in hotspots.get(city, [])]
    
    # 데이터프레임 생성
    df = pd.DataFrame({
        'name': spot_names,
        'lat': spot_lats,
        'lon': spot_lons,
        'description': spot_tips,
    })
    
    # 지도 생성
    fig = px.scatter_mapbox(
        df, 
        lat="lat", 
        lon="lon", 
        hover_name="name",
        hover_data={"description": True, "lat": False, "lon": False},
        zoom=12,
        height=600,
        size=[15] * len(df),
        color_discrete_sequence=["#2E8B57"],  # 바다색과 어울리는 진한 녹색
        opacity=0.9,
        mapbox_style="carto-positron"  # 깔끔한 밝은 스타일
    )
    
    # 도시 중심 마커 추가
    fig.add_trace(
        px.scatter_mapbox(
            pd.DataFrame({"lat": [lat], "lon": [lon], "name": [f"{city} 중심"]}),
            lat="lat",
            lon="lon",
            hover_name="name",
            size=[20],
            color_discrete_sequence=["#FF5252"],  # 밝은 빨간색
        ).data[0]
    )
    
    # 마커에 텍스트 레이블 추가 (항상 표시)
    fig.add_trace(
        px.scatter_mapbox(
            df,
            lat="lat",
            lon="lon",
            text="name",
            size=[0] * len(df),  # 점 크기는 0으로 설정해 보이지 않게
            opacity=0
        ).data[0]
    )
    
    # 텍스트 레이블 스타일 설정
    fig.update_traces(
        textposition="top center",
        textfont=dict(size=11, family="Arial", color="black"),
        mode="text+markers",
        selector=dict(opacity=0)
    )
    
    # 레이아웃 설정
    fig.update_layout(
        margin={"r": 0, "t": 0, "l": 0, "b": 0},
        mapbox=dict(
            center=dict(lat=lat, lon=lon),
            zoom=12
        )
    )
    
    return fig

def main():
    st.title("🗾 일본 도시별 여행지도 🧳")

    # 사이드바 - 일본어 필수 표현
    with st.sidebar:
        st.header("🇯🇵 여행 준비물")
        st.subheader("📝 필수 일본어 표현")
        phrase_category = st.selectbox("카테고리 선택", japanese_phrases.keys())
        for phrase in japanese_phrases[phrase_category]:
            st.markdown(f"- {phrase}")
        
        st.subheader("🌦️ 계절별 정보")
        season = st.selectbox("시즌 선택", list(seasonal_events.keys()))
        for event in seasonal_events[season]:
            st.markdown(f"- {event}")

    # 탭 생성
    tab1, tab2, tab3, tab4 = st.tabs(["🗺️ 도시 지도", "📋 여행 정보", "🍱 음식 & 쇼핑", "⚠️ 주의사항"])

    with tab1:
        city = st.selectbox("🎌 방문할 도시를 골라보세요!", list(city_coordinates.keys()))
        st.markdown(f"## ✨ {city} 여행 정보")
        st.info(city_attractions.get(city, "🎒 즐거운 여행 되세요!"))
        
        # Plotly 지도 표시
        fig = show_city_map(city, hotspots)
        st.plotly_chart(fig, use_container_width=True)
        
        # 아래에 핫플레이스 목록 표시 (지도에서 식별하기 쉽도록)
        col1, col2 = st.columns(2)
        spots = hotspots.get(city, [])
        half = len(spots) // 2 + len(spots) % 2
        
        with col1:
            for i in range(half):
                if i < len(spots):
                    with st.expander(f"🌟 {spots[i][0]}"):
                        st.write(spots[i][3])
        
        with col2:
            for i in range(half, len(spots)):
                if i < len(spots):
                    with st.expander(f"🌟 {spots[i][0]}"):
                        st.write(spots[i][3])
    
    with tab2:
        st.header(f"🌸 {city} 여행 가이드")
        
        st.subheader("🚅 교통 정보")
        st.info(city_transportation.get(city, "대중교통 정보를 준비 중입니다."))
        
        st.subheader("🌡️ 최적의 여행 시즌")
        st.success(city_best_season.get(city, "연중 방문 가능한 도시입니다."))
        
        col1, col2 = st.columns(2)
        with col1:
            st.subheader("📅 추천 일정")
            if city == "도쿄":
                st.markdown("""
                - **1일차**: 시부야 & 하라주쿠 투어
                - **2일차**: 아사쿠사 & 스카이트리
                - **3일차**: 우에노 공원 & 아키하바라
                - **4일차**: 도쿄 디즈니랜드/디즈니씨
                - **5일차**: 롯폰기 & 도쿄타워
                """)
            elif city == "오사카":
                st.markdown("""
                - **1일차**: 도톤보리 & 신사이바시
                - **2일차**: 오사카 성 & 우메다 스카이빌딩
                - **3일차**: 유니버설 스튜디오 재팬
                - **4일차**: 나라 당일치기 여행
                - **5일차**: 신세카이 & 덴노지
                """)
            elif city == "교토":
                st.markdown("""
                - **1일차**: 기요미즈데라 & 기온거리
                - **2일차**: 금각사 & 은각사
                - **3일차**: 후시미 이나리 & 도지 절
                - **4일차**: 아라시야마 대나무숲 & 원숭이공원
                - **5일차**: 니조성 & 교토 임페리얼 팰리스
                """)
            else:
                st.markdown("""
                - **1일차**: 도시 중심부 탐방
                - **2일차**: 주요 명소 관광
                - **3일차**: 현지 문화 체험
                - **4일차**: 근교 당일치기 여행
                - **5일차**: 쇼핑 및 자유 시간
                """)
                
        with col2:
            st.subheader("💰 예산 가이드 (1인 기준)")
            st.markdown("""
            - **숙소**: 1박 7만~15만원 (호텔), 3만~5만원 (게스트하우스)
            - **식사**: 한끼당 5천~1만5천원 (일반식당), 2만원~ (고급식당)
            - **교통**: 하루 5천~1만원 (지하철/버스 패스 이용시)
            - **입장료**: 관광지당 1천~2천엔
            - **쇼핑**: 개인별로 상이 (기념품 5천~3만원 정도)
            """)
            
        st.subheader("📱 유용한 앱")
        st.markdown("""
        - **Japan Transit Planner**: 전국 대중교통 정보 및 경로 제공
        - **Google Maps**: 오프라인 지도 다운로드 가능, 대중교통 정보도 정확함
        - **Google Translate**: 카메라로 메뉴판/표지판 번역 기능 유용
        - **Japan Official Travel App**: 공식 관광정보 및 비상시 알림 제공
        - **NAVITIME for Japan Travel**: 영어/한국어 지원, 대중교통 및 도보 경로 안내
        """)
        
    with tab3:
        st.header("🍣 음식 & 쇼핑 가이드")
        
        st.subheader(f"🍽️ {city} 맛집 정보")
        for food in city_food_guide.get(city, ["현지 음식 정보를 준비 중입니다."]):
            st.markdown(f"- {food}")
            
        st.subheader(f"🛍️ {city} 쇼핑 정보")
        for shop in city_shopping_guide.get(city, ["쇼핑 정보를 준비 중입니다."]):
            st.markdown(f"- {shop}")
            
        st.subheader("💸 쇼핑 팁")
        st.markdown("""
        - **세금 환급**: 여권 지참하고 면세점(Tax-Free)에서 쇼핑하세요 (5,000엔 이상 구매시)
        - **백화점 세일**: 1월, 7월은 대규모 세일 시즌입니다
        - **100엔 숍**: 다이소, 세리아 등에서 실용적인 여행용품과 기념품을 저렴하게 구매할 수 있습니다
        - **중고 브랜드샵**: 북오프, 하드오프 등에서 저렴한 가격에 양질의 중고품을 구매할 수 있습니다
        - **약국 쇼핑**: 마츠모토 키요시, 선드러그 등의 약국에서 화장품, 영양제 등 인기 기념품 구매 가능
        """)
        
        if city in ["도쿄", "오사카", "교토", "후쿠오카"]:
            st.subheader("🏆 미슐랭 추천 식당")
            if city == "도쿄":
                michelin_restaurants = ["스시 사이토(스시)", "카츠 도시(돈까스)", "스키야바시 지로(스시)", "나카자와(일본 요리)", "조엘 로부숑(프랑스 요리)"]
            elif city == "오사카":
                michelin_restaurants = ["하지메(일본 요리)", "후지야 1935(창작 요리)", "카사네(튀김 요리)", "마스다(스시)", "와사비(일본 요리)"]
            elif city == "교토":
                michelin_restaurants = ["기쿠노이(가이세키)", "히로세(일본 요리)", "미즈아이(교토 요리)", "키타무라(교토 요리)", "효텐카(도쿄 스타일 스시)"]
            elif city == "후쿠오카":
                michelin_restaurants = ["사이토(일본 요리)", "나나미야(일식)", "세츠게츠카(가이세키)", "야마모토(돈코츠 라멘)", "치효테이(일본 요리)"]
            
            for restaurant in michelin_restaurants:
                st.markdown(f"⭐ {restaurant}")
                
    with tab4:
        st.header("⚠️ 여행 주의사항")
        
        st.subheader("✈️ 비자 및 입국")
        st.info(entry_info["비자"])
        st.markdown(f"**입국심사**: {entry_info['입국심사']}")
        st.markdown(f"**세관**: {entry_info['세관']}")
        st.markdown(f"**검역**: {entry_info['검역']}")
        
        st.subheader("🌦️ 날씨 정보")
        region = "도쿄"
        if city in ["오사카", "교토", "나라", "고베"]:
            region = "교토/오사카"
        elif city in ["삿포로"]:
            region = "홋카이도"
        elif city in ["오키나와"]:
            region = "오키나와"
            
        for season, info in weather_info[region].items():
            st.markdown(f"**{season}**: {info}")
        
        col1, col2 = st.columns(2)
        with col1:
            st.subheader("🚨 안전 주의사항")
            for category, warnings in travel_warnings.items():
                st.markdown(f"**{category}**")
                for warning in warnings[:2]:  # 각 카테고리 중 2개만 표시
                    st.markdown(f"- {warning}")
                    
        with col2:
            st.subheader("💡 일본 여행 꿀팁")
            for category, tips in travel_tips.items():
                st.markdown(f"**{category}**")
                for tip in tips[:2]:  # 각 카테고리 중 2개만 표시
                    st.markdown(f"- {tip}")
        
        st.subheader("📞 긴급 연락처")
        st.markdown("""
        - **경찰**: 110
        - **소방/구급차**: 119
        - **한국 대사관 도쿄**: +81-3-3452-7611/9
        - **한국 영사관 오사카**: +81-6-6213-1401
        - **재난 정보(영어)**: NHK World Japan (nhk.jp/world)
        - **의료 통역 서비스**: +81-3-5285-8185
        """)

if __name__ == "__main__":
    main()
